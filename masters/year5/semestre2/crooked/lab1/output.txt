After heuristic:
9 3 3
x y z 
a b c 
x
1 1 3 0 -1 4 -1 5 -1 
a a a a b b b b - 
y
2 3 -1 2 1 0 -1 -1 0 
b - b b c c - - c 
z
9 -1 -1 4 6 -1 7 -1 -1 
c c - c c - c - - 
states:
0 1 2 3 4 5 6 7 9 

Resulting:
2 3 3
x y z 
a b c 
x
0 1 
a b 
y
0 0 
b c 
z
1 1 
c c 
states:
0 1 

